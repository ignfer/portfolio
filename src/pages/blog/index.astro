---
import Layout from "../../layouts/Layout.astro";
import {getCollection} from "astro:content";

const allPosts = await getCollection('blog');
---
<Layout>
  <div class="w-full h-full flex flex-col items-center p-8">
    <div class="flex flex-col gap-4">
			{allPosts.map((post) => (
              <div class="p-4 rounded-xl border border-stone-200 shadow-sm shadow-stone-200/50 flex flex-col gap-2">
                <h2 class="font-inter text-stone-900 font-bold underline"><a href={`/blog/${post.slug}`}>{post.data.title}</a></h2>
                <div class="flex flex-row gap-2">
									{
										post.data.tags?.map((t) => {
											return (
                              <p class="font-inter text-sm py-1 px-2 border border-blue-700/10 rounded-xl text-stone-50 bg-blue-500/50 shadow-sm">#{t}</p>
											)
										})
									}
                </div>
                <p class="text-stone-500 text-sm">{post.data.description}</p>
              </div>
			))}
    </div>
  </div>
</Layout>